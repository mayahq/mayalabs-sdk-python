## Hello World!

There are two major methods of interacting with a Maya program (interaction refers to execution of program), one is through the Maya’s SDKs and other is via the Maya IDE. Both operate as same functions but when interacted with differently in both environment. There is are two more kind of interactions with Maya that can either happens via the Maya generated UI/Dashboard or through various communications protocol viz. TCP/UDP or HTTP or Websockets or even MQTT. To be able to write understand your first program with Maya let’s go through each of them

### 1. Interacting with Maya program using Maya SDK

The SDK Interactions prescribe using `call(..)` method to interact with the Maya program. The `call(..)` method is just wrapper to make HTTP calls with body on the compute unit on which the Maya program is deployed to run. A `call(..)` method of the `Function` interface of the SDK to identify and send a ‘trigger’ with or without data to elicit a response from a deployed function. But `call(..)` method requires two special nodes to be definitely a part of program deployed on the compute unit. These nodes are:

1. **receive-message**
2. **respond-to-message**

these nodes are seen on the IDE and SDK script as follows:

![1](https://user-images.githubusercontent.com/9352128/235934082-45867273-47e9-49ba-b093-d86c6f51b882.png)
```python
1. trigger on receive
...
...
7. send response back
```

Even when using the SDK you can still interact with your deployed program using direct communications protocols through TCP/UDP, HTTP/WebSocket or MQTT connections, but you will need to create client take care of authentication to such an endpoint yourself. The base url to access the compute unit on which your Maya program runs can be fetched using a code like following:
`fn = Function(name=”myFunc”)`
`fn_url = fn.worker.url`

The `call(payload={})` method takes one mandatory argument which `payload` and it is supposed to always be of type dictionary (in python. Whatever value of payload is passed here is converted to JSON and received by the `receive-message` node and emitted further in a nested javascript object `msg.payload` e.g. `call(payload={"value": "Hello, World!"})` would send object `msg.payload` with value `{"value": "Hello, World!"}` to successive node.

More about the Maya SDK can be learned in the section for Maya SDK.

### 2. Interacting with a Maya program using Maya IDE/Editor

Maya comes with a fully featured web IDE and editor to write scripts or modify the program graph deployed on the compute. If you physically want to view and interact with the program you’d be doing it here. But interacting in the sense of executing the program for it to do some action from the editor would require you to use a special node called **inject** node. The inject node comes with a button on the left of it pressing which ‘inject’ a dummy message to the successive connected node. As shown in example image below a dummy message would be passed to connected ********debug******** node.

![2](https://user-images.githubusercontent.com/9352128/235934541-a69edd62-07c4-44c0-a08c-b06471a89633.png)


`inject` node can be used to emit more than just a dummy message forward. More on `inject` node can be learned on in section for `inject` node.

### 3. Interacting with Maya program using UI/Dashboard

This is one of the most powerful feature of Maya language that allows you to interact with itself using program generated by itself. There is a special module which can be installed on worker to enable access to **dashboard nodes.** These nodes enable creation of UX elements like buttons, tables, text editors, screen notifications, etc. from within the Maya program itself. The the UI or the dashboard however is rendered on a different URL than the IDE/Editor but interacting with the elements on the the dashboard url emits messages from the nodes used to construct said element. For e.g. a `dashboard-button` node present in a Maya program would render a button on the dashboard url of the program, pressing which would send a message to any node connected successive to `dashboard-button` node. There is a complete section on working with dashboard nodes where you can learn making advanced internal tools and data dashboard using the nodes provisioned from dashboard module.

### 4. Interacting with Maya program using standard web communication interfaces

Very similar to `receive-message` node you can use input (or listener) nodes of TCP, UDP, HTTP, Websocket or MQTT type to create a custom endpoint on your cloud hosted worker on which your Maya program is deployed. These nodes work in the same way by receiving a message over the internet protocols as described by them and forwards the message to successive node.

## Now down to nuts and bolts

Depending on the method you choose to interact with your `Hello, World!` program you can view the Hello, World! output in 

1. the debug console of the online IDE/Editor
2. your terminal console where you are running your program using the SDK
3. a UX element on the dashboard
4. return of response to a client request made using a web query(HTTP, Websocket, etc.)

Using IDE’s debug console to run your Hello, World! program goes like this:

![3](https://user-images.githubusercontent.com/9352128/235934726-aaece6a2-72e0-4190-8a71-b02f50af5ea9.png)

And if you probe into the inject node you see a `string` value `Hello, World!` set on to `msg.payload` and looking into the configuration of debug node you see output set to `msg.payload` which is shows the msg emitted from the inject node and received by debug node in the debug panel on the right of the screen.

Using the IDE to do elicit the same result would require a script written as following

```python
import mayalabs

script = """
1. trigger on receive message
    - 1.1. set {{msg.payload}} to 'Hello, World!'
    1.2. print {{msg.payload}}
    - 1.3. go to step 2
2. respond back with {{msg.payload}}
"""

function = mayalabs.Function(name="Hello_World_Demo")

function.update(script=script)

output = function.call(payload={})
```

This above script renders a Maya program in the cloud worker that responds in the same debug console as before:

4![4](https://user-images.githubusercontent.com/9352128/235934940-e7475324-2a79-4164-8154-4a19db9e748e.png

The reason why this Hello, World program looks more complicated than the previous one is because we chose to display the `Hello, World!` message on the IDE while triggering the program execution from SDK’s `call()` method. 

Now let’s just run our Hello, World! program to log the `Hello, World!` string on the program console of our python script.

```python
import mayalabs

script = """
1. trigger on receive message
2. set msg.{{payload}} to '{\"value\": \"Hello, World!\"}'
3. respond back with {{msg.payload}}
"""

function = mayalabs.Function(name="Hello_World_Demo")
function.update(script=script)

output = function.call(payload={})
print(output["value"])

#output
Hello, World!
```

and the program graph which enables the Hello, World program above is deployed as shown in image here:
![5](https://user-images.githubusercontent.com/9352128/235935058-0882e458-6b47-49fb-8cac-28ce61bf768c.png)
